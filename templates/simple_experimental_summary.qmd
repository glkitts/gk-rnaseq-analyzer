---
title: "RNA-seq Analysis Summary"
format: html
params:
  experiment_name: "test"
  temp_data_file: NULL
  output_format: "html"
execute:
  echo: false
  warning: false
  message: false
---

```{r setup}
library(tidyverse)
library(knitr)

# Load data if file exists
if (!is.null(params$temp_data_file) && file.exists(params$temp_data_file)) {
  report_data <- readRDS(params$temp_data_file)
  experiment_metadata <- report_data$experiment$metadata
  comparison_summary <- report_data$plotting$comparison_summary
} else {
  # Create dummy data for testing
  experiment_metadata <- list(
    n_samples = 6,
    n_transcripts = 1000,
    n_comparisons = 2
  )
  comparison_summary <- data.frame(
    comparison = c("test1", "test2"),
    total_genes = c(1000, 1000),
    sig_genes = c(50, 75),
    de_genes = c(25, 40)
  )
}
```

## Experiment: `r params$experiment_name`

**Dataset Summary:**

- **Samples:** `r experiment_metadata$n_samples`
- **Transcripts:** `r experiment_metadata$n_transcripts`
- **Comparisons:** `r experiment_metadata$n_comparisons`

## Comparison Results

```{r results-table}
kable(comparison_summary, caption = "Analysis results summary")
```

*Generated by Yildiz Lab RNA-seq Pipeline*